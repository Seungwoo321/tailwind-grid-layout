{"version":3,"file":"GridItem-DXm8-s75.js","sources":["../../../src/components/GridItem.tsx"],"sourcesContent":["'use client'\n\nimport React from 'react'\nimport { cn } from '../utils/cn'\nimport { GridItem, ResizeState } from '../types'\nimport { ResizeHandle } from './ResizeHandle'\n\ninterface GridItemComponentProps {\n  item: GridItem\n  position: { left: number; top: number; width: number; height: number }\n  isDragging: boolean\n  isResizing: boolean\n  isDraggable: boolean\n  isResizable: boolean\n  resizeHandles?: Array<'s' | 'w' | 'e' | 'n' | 'sw' | 'nw' | 'se' | 'ne'>\n  draggableCancel?: string\n  onDragStart: (itemId: string, e: React.MouseEvent) => void\n  onResizeStart: (itemId: string, handle: ResizeState['resizeHandle'], e: React.MouseEvent) => void\n  children: React.ReactNode\n}\n\nexport const GridItemComponent: React.FC<GridItemComponentProps> = ({\n  item,\n  position,\n  isDragging,\n  isResizing,\n  isDraggable,\n  isResizable,\n  resizeHandles = ['se'],\n  draggableCancel,\n  onDragStart,\n  onResizeStart,\n  children\n}) => {\n  const handleMouseDown = (e: React.MouseEvent) => {\n    // Don't allow dragging static items\n    if (item.static) return\n    \n    // Only initiate drag if clicking on the drag handle or if no specific handle is defined\n    const target = e.target as HTMLElement\n    const isDragHandle = target.closest('.grid-drag-handle')\n    const isActionButton = target.closest('.grid-actions, button, a')\n    \n    // Check draggableCancel selector\n    const isCancelled = draggableCancel && target.closest(draggableCancel)\n    \n    if (isDraggable && !e.defaultPrevented && (isDragHandle || !target.closest('.grid-drag-handle')) && !isActionButton && !isCancelled) {\n      onDragStart(item.id, e)\n    }\n  }\n\n  return (\n    <div\n      data-grid-id={item.id}\n      className={cn(\n        'absolute',\n        !isDragging && 'transition-all duration-200',\n        isDragging && 'opacity-80 z-50 cursor-grabbing shadow-2xl',\n        isResizing && 'z-40',\n        !isDragging && !isResizing && 'hover:z-30',\n        item.static && 'cursor-not-allowed',\n        item.className\n      )}\n      style={{\n        left: `${position.left}px`,\n        top: `${position.top}px`,\n        width: `${position.width}px`,\n        height: `${position.height}px`,\n        transform: isDragging ? 'scale(1.02)' : 'scale(1)',\n        cursor: isDraggable ? 'grab' : 'default'\n      }}\n      onMouseDown={handleMouseDown}\n    >\n      {children}\n      \n      {/* Resize handles */}\n      {isResizable && (\n        <>\n          {resizeHandles.map(handle => (\n            <ResizeHandle\n              key={handle}\n              position={handle}\n              onMouseDown={(e) => onResizeStart(item.id, handle, e)}\n              isActive={true}\n              isVisible={['se', 'sw', 'ne', 'nw'].includes(handle)}\n            />\n          ))}\n        </>\n      )}\n    </div>\n  )\n}"],"names":["jsxDEV","Fragment","this"],"mappings":"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"}