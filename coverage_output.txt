
 RUN  v3.2.3 /Users/mzc01-swlee/.claude-squad/worktrees/test-coverage_184a0a28fdbe9410
      Coverage enabled with v8

 ✓ src/utils/__tests__/layouts.test.ts > Layout Utilities > generateLayouts > should generate layouts for all breakpoints 2ms
 ✓ src/utils/__tests__/layouts.test.ts > Layout Utilities > generateLayouts > should use default breakpoints when not specified 0ms
 ✓ src/utils/__tests__/layouts.test.ts > Layout Utilities > generateLayouts > should create deep copies of items 0ms
 ✓ src/utils/__tests__/layouts.test.ts > Layout Utilities > generateResponsiveLayouts > should adjust layouts for different column counts 0ms
 ✓ src/utils/__tests__/layouts.test.ts > Layout Utilities > generateResponsiveLayouts > should use default column configuration 0ms
 ✓ src/utils/__tests__/grid.test.ts > Grid Utilities > calculateGridPosition > should calculate correct grid position 1ms
 ✓ src/utils/__tests__/grid.test.ts > Grid Utilities > calculateGridPosition > should handle negative positions 0ms
 ✓ src/utils/__tests__/grid.test.ts > Grid Utilities > calculateGridPosition > should use margin when provided 0ms
 ✓ src/utils/__tests__/grid.test.ts > Grid Utilities > getPixelPosition > should calculate correct pixel position 0ms
 ✓ src/utils/__tests__/grid.test.ts > Grid Utilities > getPixelPosition > should use margin when provided 0ms
 ✓ src/utils/__tests__/grid.test.ts > Grid Utilities > checkCollision > should detect collision between overlapping items 0ms
 ✓ src/utils/__tests__/grid.test.ts > Grid Utilities > checkCollision > should not detect collision between non-overlapping items 0ms
 ✓ src/utils/__tests__/grid.test.ts > Grid Utilities > checkCollision > should not detect collision when items are adjacent 0ms
 ✓ src/utils/__tests__/grid.test.ts > Grid Utilities > findFreeSpace > should return original position if no collision 0ms
 ✓ src/utils/__tests__/grid.test.ts > Grid Utilities > findFreeSpace > should find next available position on collision 0ms
 ✓ src/utils/__tests__/grid.test.ts > Grid Utilities > findFreeSpace > should exclude item by id when specified 0ms
 ✓ src/utils/__tests__/grid.test.ts > Grid Utilities > compactLayout > should compact items vertically 0ms
 ✓ src/utils/__tests__/grid.test.ts > Grid Utilities > compactLayout > should compact items horizontally 0ms
 ✓ src/utils/__tests__/grid.test.ts > Grid Utilities > compactLayout > should not compact when compactType is null 0ms
 ✓ src/utils/__tests__/grid.test.ts > Grid Utilities > compactLayout > should preserve static items position 0ms
 ✓ src/utils/__tests__/grid.test.ts > Grid Utilities > moveItems > should move colliding items down 0ms
 ✓ src/utils/__tests__/grid.test.ts > Grid Utilities > moveItems > should handle 50% overlap rule 0ms
 ✓ src/utils/__tests__/grid.test.ts > Grid Utilities > moveItems > should not move static items 0ms
 ✓ src/utils/__tests__/grid.test.ts > Grid Utilities > moveItems > should handle cascade movements 0ms
 ✓ src/utils/__tests__/grid.test.ts > Grid Utilities > getAllCollisions > should return all colliding items 1ms
 ✓ src/utils/__tests__/grid.test.ts > Grid Utilities > getAllCollisions > should exclude the item itself 0ms
 ✓ src/utils/__tests__/grid.test.ts > Grid Utilities > edge cases for compactLayout > should skip compacting static items even with different compactType 0ms
 ✓ src/utils/__tests__/grid.test.ts > Grid Utilities > edge cases for compactLayout > should handle edge collision boundary case 0ms
 ✓ src/utils/__tests__/grid.test.ts > Grid Utilities > moveItems edge cases > should handle collision detection when item height causes exact boundary touch 0ms
 ✓ src/utils/__tests__/grid.test.ts > Grid Utilities > moveItems edge cases > should handle moving up boundary case 0ms
 ✓ src/utils/__tests__/grid.test.ts > Grid Utilities > moveItems edge cases > should skip already processed items in moveItems 0ms
 ✓ src/utils/__tests__/grid.test.ts > Grid Utilities > compactLayout sorting edge cases > should sort items with same x value by y in horizontal compact 0ms
 ✓ src/utils/__tests__/cn.test.ts > cn utility > should merge class names 4ms
 ✓ src/utils/__tests__/cn.test.ts > cn utility > should handle conditional classes 0ms
 ✓ src/utils/__tests__/cn.test.ts > cn utility > should merge tailwind classes correctly 0ms
 ✓ src/utils/__tests__/cn.test.ts > cn utility > should handle arrays 0ms
 ✓ src/utils/__tests__/cn.test.ts > cn utility > should handle objects 0ms
 ✓ src/utils/__tests__/cn.test.ts > cn utility > should handle undefined and null 0ms
 ✓ src/utils/__tests__/cn.test.ts > cn utility > should handle empty strings 0ms
 ✓ src/utils/__tests__/cn.test.ts > cn utility > should handle complex tailwind merging 0ms
 ✓ src/components/__tests__/WidthProvider.test.tsx > WidthProvider > should provide width to wrapped component 21ms
 ✓ src/components/__tests__/WidthProvider.test.tsx > WidthProvider > should measure width before mount when measureBeforeMount is true 3ms
 ✓ src/components/__tests__/WidthProvider.test.tsx > WidthProvider > should use ResizeObserver when available 1ms
 ✓ src/components/__tests__/WidthProvider.test.tsx > WidthProvider > should fall back to window resize when ResizeObserver is not available 3ms
 ✓ src/components/__tests__/WidthProvider.test.tsx > WidthProvider > should clean up on unmount 3ms
 ✓ src/components/__tests__/WidthProvider.test.tsx > WidthProvider > should handle component without width prop gracefully 3ms
 ✓ src/components/__tests__/WidthProvider.test.tsx > WidthProvider > should wrap component in full-width container 1ms
 ✓ src/components/__tests__/WidthProvider.test.tsx > WidthProvider > should handle when ref element is not available 2ms
 ✓ src/components/__tests__/WidthProvider.test.tsx > WidthProvider > should handle resize observer entry without contentRect 5ms
 ✓ src/components/__tests__/WidthProvider.test.tsx > WidthProvider > should handle resize when ref is null 3ms
 ✓ src/components/__tests__/GridItem.test.tsx > GridItemComponent > should render children 23ms
 ✓ src/components/__tests__/GridItem.test.tsx > GridItemComponent > should apply position styles 4ms
 ✓ src/components/__tests__/GridItem.test.tsx > GridItemComponent > should apply dragging styles 3ms
 ✓ src/components/__tests__/GridItem.test.tsx > GridItemComponent > should apply resizing styles 2ms
 ✓ src/components/__tests__/GridItem.test.tsx > GridItemComponent > should handle drag start with drag handle 13ms
 ✓ src/components/__tests__/GridItem.test.tsx > GridItemComponent > should handle drag start without specific handle 2ms
 ✓ src/components/__tests__/GridItem.test.tsx > GridItemComponent > should not allow dragging static items 1ms
 ✓ src/components/__tests__/GridItem.test.tsx > GridItemComponent > should not trigger drag on action buttons 1ms
 ✓ src/components/__tests__/GridItem.test.tsx > GridItemComponent > should respect draggableCancel 1ms
 ✓ src/components/__tests__/GridItem.test.tsx > GridItemComponent > should render resize handles when resizable 6ms
 ✓ src/components/__tests__/GridItem.test.tsx > GridItemComponent > should not render resize handles when not resizable 1ms
 ✓ src/components/__tests__/GridItem.test.tsx > GridItemComponent > should apply custom className 1ms
 ✓ src/components/__tests__/GridItem.test.tsx > GridItemComponent > should set data-grid-id attribute 1ms
 ✓ src/components/__tests__/ResponsiveGridContainer.test.tsx > ResponsiveGridContainer > should render with responsive layouts 26ms
 ✓ src/components/__tests__/ResponsiveGridContainer.test.tsx > ResponsiveGridContainer > should use correct layout based on width and breakpoints 7ms
 ✓ src/components/__tests__/ResponsiveGridContainer.test.tsx > ResponsiveGridContainer > should handle layout changes 22ms
 ✓ src/components/__tests__/ResponsiveGridContainer.test.tsx > ResponsiveGridContainer > should use different column counts per breakpoint 2ms
 ✓ src/components/__tests__/ResponsiveGridContainer.test.tsx > ResponsiveGridContainer > should pass through container props 2ms
 ✓ src/components/__tests__/ResponsiveGridContainer.test.tsx > ResponsiveGridContainer > should handle undefined width gracefully 5ms
 ✓ src/components/__tests__/ResponsiveGridContainer.test.tsx > ResponsiveGridContainer > should handle empty layouts for a breakpoint 4ms
 ✓ src/components/__tests__/ResponsiveGridContainer.test.tsx > ResponsiveGridContainer > should update layout when width changes 3ms
 ✓ src/components/__tests__/ResponsiveGridContainer.test.tsx > ResponsiveGridContainer > should handle onBreakpointChange callback 4ms
 ✓ src/components/__tests__/ResponsiveGridContainer.test.tsx > ResponsiveGridContainer > should use default breakpoints and cols when not provided 4ms
 ✓ src/components/__tests__/ResponsiveGridContainer.test.tsx > ResponsiveGridContainer > should handle missing layout for current breakpoint 6ms
 ✓ src/components/__tests__/ResponsiveGridContainer.test.tsx > ResponsiveGridContainer > should calculate breakpoint correctly with edge case widths 5ms
 ✓ src/components/__tests__/ResizeHandle.test.tsx > ResizeHandle > corner handles > should render se handle when visible 56ms
 ✓ src/components/__tests__/ResizeHandle.test.tsx > ResizeHandle > corner handles > should render sw handle when visible 2ms
 ✓ src/components/__tests__/ResizeHandle.test.tsx > ResizeHandle > corner handles > should render ne handle when visible 2ms
 ✓ src/components/__tests__/ResizeHandle.test.tsx > ResizeHandle > corner handles > should render nw handle when visible 2ms
 ✓ src/components/__tests__/ResizeHandle.test.tsx > ResizeHandle > corner handles > should handle mouse down event 3ms
 ✓ src/components/__tests__/ResizeHandle.test.tsx > ResizeHandle > corner handles > should not handle mouse down when inactive 1ms
 ✓ src/components/__tests__/ResizeHandle.test.tsx > ResizeHandle > corner handles > should apply correct styles for each corner 3ms
 ✓ src/components/__tests__/ResizeHandle.test.tsx > ResizeHandle > edge handles > should render n handle when not visible 1ms
 ✓ src/components/__tests__/ResizeHandle.test.tsx > ResizeHandle > edge handles > should render s handle when not visible 1ms
 ✓ src/components/__tests__/ResizeHandle.test.tsx > ResizeHandle > edge handles > should render e handle when not visible 1ms
 ✓ src/components/__tests__/ResizeHandle.test.tsx > ResizeHandle > edge handles > should render w handle when not visible 1ms
 ✓ src/components/__tests__/ResizeHandle.test.tsx > ResizeHandle > edge handles > should apply pointer-events-none when isActive is false 1ms
 ✓ src/components/__tests__/ResizeHandle.test.tsx > ResizeHandle > edge handles > should not apply pointer-events-none when isActive is true 1ms
 ✓ src/components/__tests__/ResizeHandle.test.tsx > ResizeHandle > edge handles > should not apply w-5 h-5 classes to edge handle n 1ms
 ✓ src/components/__tests__/ResizeHandle.test.tsx > ResizeHandle > edge handles > should not apply w-5 h-5 classes to edge handle s 1ms
 ✓ src/components/__tests__/ResizeHandle.test.tsx > ResizeHandle > edge handles > should not apply w-5 h-5 classes to edge handle e 1ms
 ✓ src/components/__tests__/ResizeHandle.test.tsx > ResizeHandle > edge handles > should not apply w-5 h-5 classes to edge handle w 1ms
 ✓ src/components/__tests__/ResizeHandle.test.tsx > ResizeHandle > edge handles > should apply w-5 h-5 classes to corner handle sw when not visible 1ms
 ✓ src/components/__tests__/ResizeHandle.test.tsx > ResizeHandle > edge handles > should apply w-5 h-5 classes to corner handle ne when not visible 1ms
 ✓ src/components/__tests__/ResizeHandle.test.tsx > ResizeHandle > edge handles > should apply w-5 h-5 classes to corner handle nw when not visible 1ms
 ✓ src/components/__tests__/ResizeHandle.test.tsx > ResizeHandle > edge handles > should set onMouseDown to undefined when isActive is false 1ms
 ✓ src/components/__tests__/ResizeHandle.test.tsx > ResizeHandle > edge handles > should call onMouseDown when isActive is true 3ms
 ✓ src/components/__tests__/ResizeHandle.test.tsx > ResizeHandle > edge handles > should apply correct cursor classes 8ms
 ✓ src/components/__tests__/ResizeHandle.test.tsx > ResizeHandle > edge handles > should render edge handles with correct positioning when visible 1ms
 ✓ src/components/__tests__/ResizeHandle.test.tsx > ResizeHandle > should return null for unsupported positions when visible 0ms
 ✓ src/components/__tests__/ResizeHandle.test.tsx > ResizeHandle > should handle transform styles for corners 2ms
 ✓ src/components/__tests__/GridContainer.test.tsx > GridContainer > should render grid items 36ms
 ✓ src/components/__tests__/GridContainer.test.tsx > GridContainer > should apply custom className 3ms
 ✓ src/components/__tests__/GridContainer.test.tsx > GridContainer > should handle drag start 24ms
 ✓ src/components/__tests__/GridContainer.test.tsx > GridContainer > should not allow dragging static items 2ms
 ✓ src/components/__tests__/GridContainer.test.tsx > GridContainer > should handle resize 4ms
 ✓ src/components/__tests__/GridContainer.test.tsx > GridContainer > should update layout on items change 6ms
 ✓ src/components/__tests__/GridContainer.test.tsx > GridContainer > should apply maxRows constraint 2ms
 ✓ src/components/__tests__/GridContainer.test.tsx > GridContainer > should handle different compact types 5ms
 ✓ src/components/__tests__/GridContainer.test.tsx > GridContainer > should show placeholders during drag 8ms
 ✓ src/components/__tests__/GridContainer.test.tsx > GridContainer > should handle preventCollision 3ms
 ✓ src/components/__tests__/GridContainer.test.tsx > GridContainer > should handle allowOverlap 3ms
 ✓ src/components/__tests__/GridContainer.test.tsx > GridContainer > should handle margin prop 2ms
 ✓ src/components/__tests__/DroppableGridContainer.test.tsx > DroppableGridContainer > should render grid items 36ms
 ✓ src/components/__tests__/DroppableGridContainer.test.tsx > DroppableGridContainer > should handle drop events 10ms
 ✓ src/components/__tests__/DroppableGridContainer.test.tsx > DroppableGridContainer > should handle dragOver events 12ms
 ✓ src/components/__tests__/DroppableGridContainer.test.tsx > DroppableGridContainer > should pass through layout change events 3ms
 ✓ src/components/__tests__/DroppableGridContainer.test.tsx > DroppableGridContainer > should render with droppingItem prop 3ms
 ✓ src/components/__tests__/DroppableGridContainer.test.tsx > DroppableGridContainer > should handle drop without onDrop callback 4ms
 ✓ src/components/__tests__/DroppableGridContainer.test.tsx > DroppableGridContainer > should generate unique ID for dropped items 3ms
 ✓ src/components/__tests__/DroppableGridContainer.test.tsx > DroppableGridContainer > should handle dragLeave events when leaving container bounds 5ms
 ✓ src/components/__tests__/DroppableGridContainer.test.tsx > DroppableGridContainer > should handle dragLeave with no container rect 3ms
 ✓ src/components/__tests__/DroppableGridContainer.test.tsx > DroppableGridContainer > should not hide overlay when dragging within container 3ms
 ✓ src/components/__tests__/DroppableGridContainer.test.tsx > DroppableGridContainer > should handle drop with invalid data 4ms
 ✓ src/components/__tests__/DroppableGridContainer.test.tsx > DroppableGridContainer > should handle drop without container rect 3ms
 ✓ src/components/__tests__/DroppableGridContainer.test.tsx > DroppableGridContainer > should handle drop with empty data 4ms
 × src/components/__tests__/ResponsiveGridContainer.test.tsx > ResponsiveGridContainer > should use default cols when cols object does not have breakpoint value 16ms
   → expected "spy" to be called with arguments: [ 'md', 10 ][90m

Received: 

[1m  1st spy call:

[22m[2m  [[22m
[32m-   "md",[90m
[32m-   10,[90m
[31m+   "sm",[90m
[31m+   6,[90m
[2m  ][22m
[39m[90m

Number of calls: [1m1[22m
[39m
 ✓ src/components/__tests__/ResponsiveGridContainer.test.tsx > ResponsiveGridContainer > should handle cols as number instead of object 2ms
 ✓ src/components/__tests__/DroppableGridContainer.test.tsx > DroppableGridContainer > should show dragging overlay when dragging over 10ms
 ✓ src/components/__tests__/DroppableGridContainer.test.tsx > DroppableGridContainer > should handle dragOver with null dataTransfer 5ms
 ✓ src/components/__tests__/DroppableGridContainer.test.tsx > DroppableGridContainer > should handle dragOver with dataTransfer and set dropEffect 4ms
 ✓ src/components/__tests__/DroppableGridContainer.test.tsx > DroppableGridContainer > should handle dragLeave when staying within container bounds 6ms
 × src/components/__tests__/DroppableGridContainer.test.tsx > DroppableGridContainer > should hide overlay when dragging leaves container bounds 10ms
   → [2mexpect([22m[31melement[39m[2m).not.toBeInTheDocument()[22m

[31mexpected document not to contain element, found <div
  class="absolute inset-0 bg-blue-500/10 rounded-lg pointer-events-none"
/> instead[39m
 ✓ src/components/__tests__/GridContainer.test.tsx > GridContainer > should handle resize handles configuration 6ms
 ✓ src/components/__tests__/GridContainer.test.tsx > GridContainer > should handle draggableCancel 4ms
 ✓ src/components/__tests__/GridContainer.test.tsx > GridContainer > should handle autoSize prop 2ms
 ✓ src/components/__tests__/GridContainer.test.tsx > GridContainer > should handle autoSize=false with style height 4ms
 ✓ src/components/__tests__/GridContainer.test.tsx > GridContainer > should handle droppingItem prop 3ms
 ✓ src/components/__tests__/GridContainer.test.tsx > GridContainer > should handle onDrag callback 6ms
 ✓ src/components/__tests__/GridContainer.test.tsx > GridContainer > should handle onDragStop callback 7ms
 ✓ src/components/__tests__/GridContainer.test.tsx > GridContainer > should handle onResize callback 7ms
 ✓ src/components/__tests__/GridContainer.test.tsx > GridContainer > should handle onResizeStop callback 7ms
 ✓ src/components/__tests__/GridContainer.test.tsx > GridContainer > should handle isBounded constraint 8ms
 ✓ src/components/__tests__/GridContainer.test.tsx > GridContainer > should handle containerPadding 2ms
 ✓ src/components/__tests__/GridContainer.test.tsx > GridContainer > should handle item-specific isDraggable override 3ms
 ✓ src/components/__tests__/GridContainer.test.tsx > GridContainer > should handle item-specific isResizable override 2ms
 ✓ src/components/__tests__/GridContainer.test.tsx > GridContainer > should handle resize with different handles 8ms
 ✓ src/components/__tests__/GridContainer.test.tsx > GridContainer > should handle preventCollision with allowOverlap 6ms
 ✓ src/components/__tests__/GridContainer.test.tsx > GridContainer > should cleanup event listeners on unmount 5ms
 ✓ src/components/__tests__/GridContainer.test.tsx > GridContainer > should handle draggableHandle prop 3ms
 ✓ src/components/__tests__/GridContainer.test.tsx > GridContainer > should handle resize with north handle 5ms
 ✓ src/components/__tests__/GridContainer.test.tsx > GridContainer > should handle resize with south handle 5ms
 ✓ src/components/__tests__/GridContainer.test.tsx > GridContainer > should handle resize with east handle 8ms
 ✓ src/components/__tests__/GridContainer.test.tsx > GridContainer > should handle resize with west handle 6ms
 ✓ src/components/__tests__/GridContainer.test.tsx > GridContainer > should handle resize with northeast handle 4ms
 ✓ src/components/__tests__/GridContainer.test.tsx > GridContainer > should handle resize with northwest handle 4ms
 ✓ src/components/__tests__/GridContainer.test.tsx > GridContainer > should handle resize with southwest handle 4ms
 ✓ src/components/__tests__/GridContainer.test.tsx > GridContainer > should respect minW and minH constraints during resize 4ms
 ✓ src/components/__tests__/GridContainer.test.tsx > GridContainer > should respect maxW and maxH constraints during resize 4ms
 ✓ src/components/__tests__/GridContainer.test.tsx > GridContainer > should handle dragging with maxRows constraint at boundary 4ms
 ✓ src/components/__tests__/GridContainer.test.tsx > GridContainer > should prevent collision with static items when preventCollision is true 6ms
 ✓ src/components/__tests__/GridContainer.test.tsx > GridContainer > should handle margin array configuration 2ms
 ✓ src/components/__tests__/GridContainer.test.tsx > GridContainer > should handle resize when resizedItem is not found 4ms
 ✓ src/components/__tests__/GridContainer.test.tsx > GridContainer > should handle drag with undefined margin 5ms
 ✓ src/components/__tests__/GridContainer.test.tsx > GridContainer > should not trigger resize for non-resizable items 1ms
 ✓ src/components/__tests__/GridContainer.test.tsx > GridContainer > should handle dragging when item becomes static during drag 4ms
 ✓ src/components/__tests__/GridContainer.test.tsx > GridContainer > should handle resize position constraints to stay within bounds 4ms
 ✓ src/components/__tests__/GridContainer.test.tsx > GridContainer > should show resize placeholder during resize 5ms
 ✓ src/components/__tests__/GridContainer.test.tsx > GridContainer > should handle container width update on window resize 3ms
 ✓ src/components/__tests__/GridContainer.test.tsx > GridContainer > should handle onLayoutChange after drag 5ms
 ✓ src/components/__tests__/GridContainer.test.tsx > GridContainer > should handle onLayoutChange after resize 5ms
 ✓ src/components/__tests__/GridContainer.test.tsx > GridContainer > should prevent movement when colliding with static items in preventCollision mode 5ms
 ✓ src/components/__tests__/GridContainer.test.tsx > GridContainer > should handle drag without originalPosition in dragState 5ms
 ✓ src/components/__tests__/GridContainer.test.tsx > GridContainer > should constrain item position when maxRows is exceeded exactly at boundary 4ms
 ✓ src/components/__tests__/GridContainer.test.tsx > GridContainer > should execute maxRows constraint when item would exceed boundary 4ms
 ✓ src/components/__tests__/GridContainer.test.tsx > GridContainer > should handle resize when resizedItem is not found 3ms
 ✓ src/components/__tests__/GridContainer.test.tsx > GridContainer > should handle drag when item is not found 3ms
 × src/components/__tests__/GridContainer.test.tsx > GridContainer > should prevent movement when colliding with static items 115ms
   → expected 2 to be 1 // Object.is equality
 ✓ src/components/__tests__/GridContainer.test.tsx > GridContainer > should handle drag without originalPosition in dragState 6ms

 Test Files  3 failed | 6 passed (9)
      Tests  3 failed | 176 passed (179)
   Start at  19:46:53
   Duration  2.04s (transform 362ms, setup 1.22s, collect 1.72s, tests 872ms, environment 5.61s, prepare 1.08s)

